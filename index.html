<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#3367D6" />
  <title>Abidos Kalkulation</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h1>Abidos Kalkulation</h1><select id="lang-select" onchange="setLang(this.value)"><option value="de">Deutsch</option><option value="en">English</option></select>

    <!-- Teil 1: Vergleichskalkulation -->
    <section>
      <h2>1Ô∏è‚É£ Vergleich: Abidos Fusion vs. Rohstoffverkauf</h2>
      <label>Abidos Fusion Verkaufspreis (pro St√ºck): <input id="fusion-price" type="text" /></label><br />
      <label>Herstellungskosten (f√ºr 10 Fusionen): <input id="manufacturing-cost" type="text" /></label><br />
      <button onclick="calculateComparison()">Berechnen</button>
      <div id="vergleich-ergebnis" class="ergebnis"></div>
    </section>

    <!-- Teil 2: Verkaufsrechnung -->
    <section>
      <h2>üì¶ Verkaufsrechnung deines Bestands</h2>
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Preis (pro‚ÄØ100 / St√ºck)</th>
            <th>Menge</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><img class="icon" src="icon-timber.png" alt="Timber"> Timber</td>
            <td><input id="stock-timber-price" type="text" placeholder="107"></td>
            <td><input id="stock-timber-qty" type="text" placeholder="Anzahl"></td>
          </tr>
          <tr>
            <td><img class="icon" src="icon-tender.png" alt="Tender Timber"> Tender Timber</td>
            <td><input id="stock-tender-price" type="text" placeholder="209"></td>
            <td><input id="stock-tender-qty" type="text" placeholder="Anzahl"></td>
          </tr>
          <tr>
            <td><img class="icon" src="icon-abidos.png" alt="Abidos Timber"> Abidos Timber</td>
            <td><input id="stock-abidos-price" type="text" placeholder="1400"></td>
            <td><input id="stock-abidos-qty" type="text" placeholder="Anzahl"></td>
          </tr>
          <tr>
            <td><img class="icon" src="icon-fusion.png" alt="Abidos Fusion"> Abidos Fusion</td>
            <td><input id="stock-fusion-price" type="text" placeholder="108"></td>
            <td><input id="stock-fusion-qty" type="text" placeholder="Anzahl"></td>
          </tr>
        </tbody>
      </table>
      <button onclick="calculateStock()">Bestandswert berechnen</button>
      <div id="verkaufs-ergebnis" class="ergebnis"></div>
    </section>
  </main>
  <script src="main.js">
let currentLang = localStorage.getItem("lang") || "de";
function setLang(lang) {
  fetch("lang.json")
    .then(res => res.json())
    .then(data => {
      const t = data[lang];
      document.querySelector("h1").textContent = t.title;
      document.querySelectorAll("h2")[0].textContent = t.section1;
      document.querySelectorAll("h2")[1].textContent = t.section2;
      document.querySelectorAll("button")[0].textContent = t.calc1_btn;
      document.querySelectorAll("button")[1].textContent = t.calc2_btn;
      localStorage.setItem("lang", lang);
      currentLang = lang;
    });
}
document.addEventListener("DOMContentLoaded", () => {
  setLang(currentLang);
  document.getElementById("lang-select").value = currentLang;
});
</script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  
let currentLang = localStorage.getItem("lang") || "de";
function setLang(lang) {
  fetch("lang.json")
    .then(res => res.json())
    .then(data => {
      const t = data[lang];
      document.querySelector("h1").textContent = t.title;
      document.querySelectorAll("h2")[0].textContent = t.section1;
      document.querySelectorAll("h2")[1].textContent = t.section2;
      document.querySelectorAll("button")[0].textContent = t.calc1_btn;
      document.querySelectorAll("button")[1].textContent = t.calc2_btn;
      localStorage.setItem("lang", lang);
      currentLang = lang;
    });
}
document.addEventListener("DOMContentLoaded", () => {
  setLang(currentLang);
  document.getElementById("lang-select").value = currentLang;
});
</script>
</body>
</html>
